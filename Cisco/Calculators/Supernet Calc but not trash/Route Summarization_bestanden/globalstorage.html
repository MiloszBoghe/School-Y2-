<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252"><script>(function(){var a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],a.apply(this,arguments)};var j=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var k=this.onreadystatechange;return this.onreadystatechange=function(){function l(){var m=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return m.substring(0,22)}try{if(4===this.readyState){var m='detector',n={posdMessageId:'PANELOS_MESSAGE',posdHash:l(),type:'VIDEO_XHR_CANDIDATE',from:m,to:m.substring(0,m.length-2),content:{requestMethod:this.requestMethod,url:this.responseURL,type:this.getResponseHeader('content-type'),content:this.response}};window.postMessage(n,'*')}}catch(m){}if(k)return k.apply(this,arguments)},j.apply(this,arguments)}})();</script></head><body bis_status="ok" bis_frame_id="115964116997">
    <script type="text/javascript">
    (function() {

        function migrateCookies(names) {
            var cookies = document.cookie.split(";");
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                var eqPos = cookie.indexOf("=");
                var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                if (names.indexOf(name) > -1) {
                    var value = eqPos > -1 ? cookie.substr(eqPos + 1) : "";
                    document.cookie = name + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";
                    localStorage.setItem(name, value);
                }
            }
        }

        function snoozeCheck(key, localStorage) {
            // we got no proper partner tag, snooze all?
            if (key.startsWith('com.ciuvo.') && key.endsWith('-settings')) {
                //TODO : snooze check
                try {
                    var settings = JSON.parse(localStorage.getItem(key));
                    for (skey in settings) {
                        if (skey.startsWith('snoozed')) {
                            var now = new Date(), until = new Date(parseInt(settings[skey]));
                            if (now < until) {
                                   console.log("Toolbar is snoozed until: ", until);
                                return true;
                            } else {
                                delete settings[skey];
                                localStorage.setItem(key, JSON.stringify(settings));
                            }
                        }
                    }
                } catch (e) {
                    console.log("Could not read settings", e);
                }
            }
            return false;
        }

        function handleRequest(event) {
            var data = JSON.parse(event.data),
                response = {id: data.id, key: data.key};

            switch (data.method) {
                case "getAll":
                    response.value = {};
                    for (var key in localStorage) {
                        if (snoozeCheck(key, localStorage)) {
                            return;
                        } else {
                            response.value[key] = localStorage.getItem(key);
                        }
                    }
                    break;
                case "getItem":
                    response.value = localStorage.getItem(data.key);
                    break;
                case "setItem":
                    localStorage.setItem(data.key, data.value);
                    break;
                case "removeItem":
                    localStorage.removeItem(data.key);
                    break;
                case "length":
                    response.length = localStorage.length;
                    break;
                default:
                    break;
            }
            event.source.postMessage(JSON.stringify(response), event.origin);
        }

        if(window.addEventListener){
            window.addEventListener("message", handleRequest, false);
        } else if (window.attachEvent){
            window.attachEvent("onmessage", handleRequest);
        }
        
    })();
    </script>


</body><script>
    window[Symbol.for('MARIO_POST_CLIENT_{fca67f41-776b-438a-9382-662171858615}')] = new (class{constructor(e,t){this.name=e,this.destination=t,this.serverListeners={},this.bgRequestsListeners={},this.bgEventsListeners={},window.addEventListener("message",e=>{const t=e.data,n=!(t.destination&&t.destination===this.name),s=!t.event;if(!n&&!s)if("MARIO_POST_SERVER__BG_RESPONSE"===t.event){const e=t.args;if(this.hasBgRequestListener(e.requestId)){try{this.bgRequestsListeners[e.requestId](e.response)}catch(e){}delete this.bgRequestsListeners[e.requestId]}}else if("MARIO_POST_SERVER__BG_EVENT"===t.event){const e=t.args;if(this.hasBgEventListener(e.event))try{this.bgEventsListeners[t.id](e.payload)}catch(e){}}else if(this.hasServerListener(t.event))try{this.serverListeners[t.event](t.args)}catch(e){}})}emitToServer(e,t){const n=this.generateUIID(),s={args:t,destination:this.destination,event:e,id:n};return window.postMessage(s,location.origin),n}emitToBg(e,t){const n=this.generateUIID(),s={bgEventName:e,requestId:n,args:t};return this.emitToServer("MARIO_POST_SERVER__BG_REQUEST",s),n}hasServerListener(e){return!!this.serverListeners[e]}hasBgRequestListener(e){return!!this.bgRequestsListeners[e]}hasBgEventListener(e){return!!this.bgEventsListeners[e]}fromServerEvent(e,t){this.serverListeners[e]=t}fromBgEvent(e,t){this.bgEventsListeners[e]=t}fromBgResponse(e,t){this.bgRequestsListeners[e]=t}generateUIID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}})('MARIO_POST_CLIENT_{fca67f41-776b-438a-9382-662171858615}', 'MARIO_POST_SERVER_{fca67f41-776b-438a-9382-662171858615}')</script><script>
    const hideMyLocation = new (class{constructor(t){this.clientKey=t,this.watchIDs={},this.client=window[Symbol.for(t)];const e=navigator.geolocation.getCurrentPosition,n=navigator.geolocation.watchPosition,o=navigator.geolocation.clearWatch,r=this;navigator.geolocation.getCurrentPosition=function(t,n,o){r.handle(e,"GET",t,n,o)},navigator.geolocation.watchPosition=function(t,e,o){return r.handle(n,"WATCH",t,e,o)},navigator.geolocation.clearWatch=function(t){if(-1===t)return;const e=r.watchIDs[t];return delete r.watchIDs[t],o.apply(this,[e])}}handle(t,e,n,o,r){const i=this.client.emitToBg("HIDE_MY_LOCATION__GET_LOCATION");let a=this.getRandomInt(0,1e5);if(this.client.fromBgResponse(i,i=>{if(i.enabled)if("SUCCESS"===i.status){const t=this.map(i);n(t)}else{const t=this.errorObj();o(t),a=-1}else{const i=[n,o,r],c=t.apply(navigator.geolocation,i);"WATCH"===e&&(this.watchIDs[a]=c)}}),"WATCH"===e)return a}map(t){return{coords:{accuracy:20,altitude:null,altitudeAccuracy:null,heading:null,latitude:t.latitude,longitude:t.longitude,speed:null},timestamp:Date.now()}}errorObj(){return{code:1,message:"User denied Geolocation"}}getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}})('MARIO_POST_CLIENT_{fca67f41-776b-438a-9382-662171858615}')
  </script></html>